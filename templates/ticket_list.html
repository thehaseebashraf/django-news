{# Extend the base template #}
{% extends "base.html" %}

{# Set the title block for the articles page #}
{% block title %}Articles{% endblock title %}

{% block content %}
<div class="ticket-counter mb-3">
  <h4>Total Tickets: {{ ticket_count }}</h4>
</div>

<div class="table-responsive">
  <table class="table table-hover w-100">
    <thead>
      <tr>
        <th>Requester</th>
        <th>Subject</th>
        <th>Description</th>
        <th>Status</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      {# Loop through each article in the article_list #}
      {% for article in article_list %}
      <tr onclick="location.href='{{ article.get_absolute_url }}'" style="cursor: pointer;">
        <td>
          <div class="d-flex align-items-center">
            <div class="ms-3">
              <div>{{ article.author }}</div>
            </div>
          </div>
        </td>
        <td>{{ article.title }}</td>
        <td>{{ article.description|truncatewords:10 }}</td>
        <td>
          <span class="badge bg-primary">Open</span>
        </td>
        <td>{{ article.date }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<style>
  .table {
    width: 100%;
  }
  .table th, .table td {
    padding: 1.5rem;
    text-align: left;
    border-top: none; /* Remove the top border */
    border-bottom: 1px solid #dee2e6; /* Add only horizontal borders */
  }
  .table thead th {
    border-bottom: 2px solid #dee2e6;
  }
  .table-hover tbody tr {
    transition: background-color 0.15s ease-in-out;
  }
  .table-hover tbody tr:hover {
    background-color: #f5f5f5;
  }
  .table-responsive {
    margin-left: -15px;
    margin-right: -15px;
  }
  tbody tr {
    border-left: none; /* Remove the left border */
    border-right: none; /* Remove the right border */
  }
</style>
{% endblock content %}
